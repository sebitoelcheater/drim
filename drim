#!/bin/bash
# My first script

drim_path=$HOME/Developer/Proyectos/drim
project_path=${PWD}
platform=$1
action=$2

if [ "$platform" == "digitalocean" ]; then
  if [ "$action" == "deploy" ]; then
    ansible-playbook $drim_path/digitalocean/deploy.yml -i .drim/hosts.yml --extra-vars "DRIM_PATH=$drim_path PROJECT_PATH=$project_path";
  elif [ "$action" == "initialize" ]; then
    ansible-playbook $drim_path/digitalocean/initialize.yml -i .drim/hosts.yml --extra-vars "DRIM_PATH=$drim_path PROJECT_PATH=$project_path";
  elif [ "$action" == "create" ]; then
    ansible-playbook $drim_path/digitalocean/create.yml -i .drim/hosts.yml --extra-vars "DRIM_PATH=$drim_path PROJECT_PATH=$project_path";
  elif [ "$action" == "sandbox" ]; then
    ansible-playbook $drim_path/digitalocean/sandbox.yml -i .drim/hosts.yml --extra-vars "DRIM_PATH=$drim_path PROJECT_PATH=$project_path";
  elif [ "$action" == "backup" ]; then
    ansible-playbook $drim_path/digitalocean/backup.yml -i .drim/hosts.yml --extra-vars "DRIM_PATH=$drim_path PROJECT_PATH=$project_path";
  fi
elif [ "$platform" == "ionic" ]; then
  if [ "$action" == "deploy" ]; then
    ansible-playbook $drim_path/ionic/deploy.yml -i .drim/hosts.yml --extra-vars "DRIM_PATH=$drim_path PROJECT_PATH=$project_path";
  elif [ "$action" == "initialize" ]; then
    ansible-playbook $drim_path/ionic/initialize.yml -i .drim/hosts.yml --extra-vars "DRIM_PATH=$drim_path PROJECT_PATH=$project_path";
  elif [ "$action" == "create" ]; then
    ansible-playbook $drim_path/ionic/create.yml -i .drim/hosts.yml --extra-vars "DRIM_PATH=$drim_path PROJECT_PATH=$project_path";
  fi
elif [ "$platform" == "init" ]; then
  if [ "$action" == "digitalocean" ]; then
    python3 $drim_path/digitalocean/init.py $drim_path $project_path;
  elif [ "$action" == "ionic" ]; then
    python3 $drim_path/ionic/init.py $drim_path $project_path;
  fi
fi
